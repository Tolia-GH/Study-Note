# [主页](../README.md)/[OPD](readme.md)/OPD Part 1

### 1.3 Система команд базовой ЭВМ 基础计算机的指令系统
Классификация команд. БЭВМ способна исполнять точно определённый набор команд. При составлении программы пользователь ограничен этими командами. Полный перечень команд базовой ЭВМ приведён в таблице В.3. В зависимости от особенностей выполнения различных операций в БЭВМ команды можно разделить на четыре группы:
指令分类。计算机能够执行一组特定的指令。在编写程序时，用户受到这些指令的限制。基础计算机的完整指令集列于表B.3中。根据在基础计算机中执行不同操作的特性，指令可以分为四类：
- безадресные команды;
  无地址指令;
- команды ввода-вывода;
  输入输出指令;
- адресные команды;
  地址指令;
- команды ветвления.
  分支指令。

Выбор одного из типов команды осуществляется МПУ при помощи анализа старших четырех бит кода команды (биты с 12 по 15), которые называются кодом операции (КОП, Opcode - Operation code). Разработчики БЭВМ выбрали шесть форматов 16-битовых (однословых) команд с 4-битовым кодом операции (рис. В.2).
通过分析指令代码的高四位（位12到15），微处理器选择一种指令类型，这些高四位称为操作码（КОП, Opcode - Operation code）。基础计算机的设计者选择了六种16位（单词）指令格式，每种指令都有4位操作码（见图B.2）。
![](/OPD/Picture/1.3.B.2.png)

**Безадресные команды** выполняют различные действия без ссылок на ячейку памяти. Например, команда `CLA` предписывает ЭВМ очистить аккумулятор (записать в AC код нуля). Это команда обработки операнда, расположенного в конкретном месте, "известном" машине. Другой пример безадресной команды - команда `HLT`. Формат команды состоит из значения 0 в КОП и расширения кода операции (биты 0-11), которое задает необходимую операцию без использования явного указания ячейки памяти. Следует отметить, что безадресные операции могут использовать ячейки памяти неявно, например, команды `POP` или `RET`.
**无地址指令** 执行各种操作而不引用内存单元。例如，指令 `CLA` 指示计算机清除累加器（将零代码写入AC）。这是一个处理操作数的指令，位于机器“已知”的特定位置。另一个无地址指令的例子是 `HLT` 指令。指令格式由操作代码中的0值和操作码扩展部分（位0-11）组成，它定义了无需明确指定内存单元的操作。值得注意的是，无地址操作可以隐式使用内存单元，例如 `POP` 或 `RET` 指令。

**Команды ввода-вывода** управляют обменом данными между процессором и внешними устройствами ЭВМ. Эти команды будут подробно рассмотрены в части 2.
**输入/输出指令** 控制处理器与计算机外部设备之间的数据交换。这些指令将在第2部分详细讨论。
![](/OPD/Picture/1.3.B.3.png)

**Примечания**:
**注释**：
1. Значения в столбцах признаков результатов показывают, как изменится соответствующий признак в результате выполнения операции. «–» - команда не влияет на признак, «0» - признак сбросится, «*» - значение признака установится по результату операции.
结果标志列中的值表示执行操作后相应标志将如何变化。“–” 表示指令不影响标志，“0” 表示标志将被重置，“*” 表示根据操作结果设置标志值。

**Адресные команды** предписывают машине производить действия с ячейкой памяти, адрес которой определяется исходя из адресной части команды, состоящей из 12 бит (биты 0..11). КОП (биты 12..15) принимает значения от 0x2 до 0xE и задает операцию.
**地址命令**指示机器对内存单元执行操作，该内存单元的地址由命令的地址部分确定，地址部分由12位组成（位0..11）。COP（位12..15）取值从0x2到0xE并定义操作。

**Команды ветвления** позволяют продолжить вычислительный процесс с другого адреса программы в зависимости от состояния признаков результата NZVC.
**分支命令**允许根据NZVC结果标志的状态从另一个程序地址继续计算过程。

**Режимы адресации в адресных командах**. Для адресных команд предусмотрено два различных формата:
**地址命令中的寻址模式**。 地址命令提供了两种不同的格式：

1. **С прямой абсолютной адресацией** (рис. В.2.б) — в бите 11 у этих команд всегда 0, а в адресной части (битах с 0 по 10) записано абсолютное значение адреса операнда (т.е. номер ячейки в адресном пространстве) в памяти. При выполнении операции команда непосредственно обращается по заданному адресу выбирая или записывая операнд.
**使用直接绝对寻址**（图B.2.b）——在这些命令中，位11总是0，并且在地址部分（位0到10）中记录了操作数地址的绝对值（即地址空间中的单元编号）在内存中。执行操作时，命令直接访问指定地址以读取或写入操作数。

1. **С относительной адресацией** (рис. В.2.г)— 11-й бит содержит 1, а биты 8-10 режим адресации. В биты 0-7 записано смещение, которое используется для вычисления адреса операнда в памяти с помощью прибавления смещения к
значению 1Р. Смещение может быть и положительным и отрицательным, позволяя адресовать 127 ячеек до и 128 ячеек после текущей команды в памяти. Подчеркнем, что смещение 0 будет указывать на следующую за командой ячейку. Это происходит потому, что к моменту вычисления адреса операнда, счетчик команд уже увеличен на 1 в результате исполнения команды. Режимы адресации могут быть:
**使用相对寻址**（图B.2.g）——第11位包含1，第8-10位表示寻址模式。第0-7位存储偏移量，用于通过将偏移量加到IP的值来计算内存中操作数的地址。偏移量可以是正数或负数，允许在内存中对当前指令前127个单元和后128个单元进行寻址。值得强调的是，偏移量为0将指向紧随指令之后的单元。这是因为在计算操作数地址时，指令计数器已经因为执行指令而增加了1。寻址模式可以是：

   - Прямая относительная (код 0xE) или еще ее называют «прямая со смещением относительно IP». Адрес операнда получается сложением закодированного в команде смещения со счетчиком команд.
     直接相对寻址（代码 0xE），也称为“相对 IP 的直接寻址”。操作数的地址通过将命令中的编码偏移量与指令计数器相加获得。
   - Косвенная относительная (0x8). Косвенная адресация подразумевает, что в ячейке памяти, которая вычисляется из адресной части команды через сложение смещения со счетчиком команд, хранится адрес операнда. В результате после вычисления ячейки, где хранится адрес, ее значение снова используется в качестве адреса, вычисляя расположение операнда в памяти.
     间接相对寻址（0x8）。间接寻址意味着在通过将偏移量与指令计数器相加来计算的命令地址部分的内存单元中，存储着操作数的地址。结果是，在计算存储地址的内存单元后，其值再次用作地址，用于计算操作数在内存中的位置。

   - Косвенная автоинкрементная (0xA). Эта адресация аналогична случаю косвенной адресации, однако `после` загрузки операнда из памяти, значение адреса в ячейке памяти увеличивается на 1. Режим обычно удобно использовать для обработки элементов массива, заданных начальным адресом и длиной в порядке возрастания порядкового номера элементов.
     间接自动增量寻址（0xA）。这种寻址类似于间接寻址，但在从内存加载操作数之后，内存单元中的地址值增加 1。通常使用这种模式来处理由初始地址和长度按元素顺序递增的数组元素。

   - Косвенная автодекрементная (0xB). Эта адресация аналогична случаю косвенной адресации, однако `перед` загрузкой операнда из памяти, значение адреса в ячейке памяти уменьшается на 1. Режим обычно удобно использовать для обработки элементов массива, заданных начальным адресом и длиной в порядке убывания порядкового номера элементов.
     间接自动减量寻址（0xB）。这种寻址类似于间接寻址，但在从内存加载操作数之前，内存单元中的地址值减少 1。通常使用这种模式来处理由初始地址和长度按元素顺序递减的数组元素。
  
   - Со смещением относительно SP (0xC). Адрес операнда получается сложением закодированного в команде смещения с указателем стека. Режим позволяет адресовать параметры с заданным номером, которые находятся в стеке.
     相对 SP 的偏移寻址（0xC）。操作数的地址通过将命令中的编码偏移量与堆栈指针相加获得。该模式允许寻址堆栈中具有指定编号的参数。

   - С непосредственной (прямой) загрузкой операнда (0xF) в аккумулятор (рис. В.2д). Для такого формата биты 8-11 установлены в единицы. Команда с режимом адресации «прямая загрузка» по факту не является адресной, а только использует формат адресной команды. Она берет число в битах 0-7 команды в качестве операнда и рассматривает его как знаковое, расширяя знак байта (бит 7) в биты 8-15 старшего байта. 
   Сводная информация о режимах адресации приведена в табл.В.10.
     直接加载操作数到累加器（代码 0xF）（见图 В.2д）。对于这种格式，比特 8-11 被设置为1。采用“直接加载”寻址模式的命令实际上不是地址模式，而只是使用地址命令的格式。它将命令中比特 0-7 的数字作为操作数，并将其视为符号数，将符号位（比特 7）扩展到高字节的比特 8-15。
    寻址模式的汇总信息在表 В.10 中给出。







